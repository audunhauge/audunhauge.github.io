<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Registrer forfatter</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="DbForm.js"></script>
    <script src="DbTable.js"></script>
    <script src="Homebar.js"></script>
    <link rel="stylesheet" href="bib.css">
</head>

<body>
    <home-bar heading="Skolebibliotek PÅ Skeisvang" crumb="låner">
        <li data-link="forfatter">Registrer forfatter</li>
        <li data-link="bok">Registrer bok</li>
        <li data-link="laaner">Registrer låner</li>
        <li data-link="utlaan">Registrer utlån</li>
    </home-bar>

    <div id="main">
        <!-- angi feltnavn du ønsker å bruke i fields="" -->
        <db-table id="table" fields="laanerid,eksemplarid" sql="select * from utlaan">
            <span slot="caption">Lånere</span>
        </db-table>

        <!-- angi feltnavn du ønsker å bruke i fields=""  -->
        <db-form id="form" 
                 foreign="laaner.laanerid:fornavn,eksemplar.eksemplarid:tittel" 
                 table="utlaan">
            <span slot="heading">Registrer Utlån</span>
        </db-form>
    </div>

    <script>
        let dbTable = document.getElementById("table");
        addEventListener("dbUpdate", () => {
            dbTable.redraw();
        })


    </script>

</body>

</html>